<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/images/favicon-32x32.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="style.css">
    <title>Frontend Mentor | Age calculator app</title>

</head>

<body>
    <div class="card">
        <div class="container">
            <div class="form_container">
                <div class="block">
                    <label for="day">
                Day
              </label>
                    <input type="number" id="day" min="1" max="31">
                    <p id="err1"></p>
                    <small></small>
                </div>
                <div class="block">
                    <label for="month">
                Month
              </label>
                    <input type="number" id="month" min="1" max="12">
                    <p id="err2"></p>
                    <small></small>
                </div>
                <div class="block">
                    <label for="year">
                Year
              </label>
                    <input type="number" id="year" min="1">
                    <p id="err3"></p>
                    <small></small>
                </div>
            </div>
            <div class="submit_block">
                <hr>
                <button class="sumbit_btn" onclick="calculate()"><img src="./assets/images/icon-arrow.svg" alt="icon"></button>
            </div>
            <div class="output">
                <h1><span id="result3">-- </span> years</h1>
                <h1><span id="result2">-- </span> months</h1>
                <h1><span id="result1">-- </span> days</h1>
            </div>

            <script>
                function calculate() {
                    document.getElementById("err1").innerHTML = "";
                    document.getElementById("err2").innerHTML = "";
                    document.getElementById("err3").innerHTML = "";

                    const currentDate = new Date();
                    const day = document.getElementById("day").value;
                    const month = document.getElementById("month").value;
                    const year = document.getElementById("year").value;
                    const days = (currentDate.getDate() - day + 31) % 31;
                    const months = (currentDate.getMonth() - month + 12) % 12;
                    const years = currentDate.getFullYear() - year - 1;


                    if (day >= 1 && day <= 31) {
                        if (month >= 1 && month <= 12) {
                            if (month == 2) {
                                if (year % 4 == 0) {
                                    if (day > 29) {
                                        document.getElementById("result1").innerHTML = "--";
                                        document.getElementById("err1").innerHTML = "<span style='color: red;'>Must be a valid day</span>";
                                        if (month >= 1 && month <= 12) {
                                            document.getElementById("result2").innerHTML = months + 1;
                                            if (year == "") {
                                                document.getElementById("result3").innerHTML = "--";
                                                document.getElementById("err3").innerHTML = "<span style='color: red;'>Must be a valid year</span> ";
                                            } else if (year == currentDate.getFullYear() && day <= currentDate.getDate() && month <= currentDate.getMonth()) {
                                                document.getElementById("result3").innerHTML = "0";
                                            } else if (years >= 0) {
                                                document.getElementById("result3").innerHTML = years;
                                            } else {
                                                document.getElementById("result3").innerHTML = "--";
                                                document.getElementById("err3").innerHTML = "<span style='color: red;'>Must be a valid year</span> ";
                                            }
                                        } else {
                                            document.getElementById("result2").innerHTML = "--";
                                            document.getElementById("err2").innerHTML = "<span style='color: red;'>Must be a valid month</span>";
                                            if (year == "") {
                                                document.getElementById("result3").innerHTML = "--";
                                                document.getElementById("err3").innerHTML = "<span style='color: red;'>Must be a valid year</span> ";
                                            } else if (year == currentDate.getFullYear() && day <= currentDate.getDate() && month <= currentDate.getMonth()) {
                                                document.getElementById("result3").innerHTML = "0";
                                            } else if (years >= 0) {
                                                document.getElementById("result3").innerHTML = years;
                                            } else {
                                                document.getElementById("result3").innerHTML = "--";
                                                document.getElementById("err3").innerHTML = "<span style='color: red;'>Must be a valid year</span> ";
                                            }
                                        }
                                    } else {
                                        document.getElementById("result1").innerHTML = days;
                                        if (month >= 1 && month <= 12) {
                                            document.getElementById("result2").innerHTML = months + 1;
                                            if (year == "") {
                                                document.getElementById("result3").innerHTML = "--";
                                                document.getElementById("err3").innerHTML = "<span style='color: red;'>Must be a valid year</span> ";
                                            } else if (year == currentDate.getFullYear() && day <= currentDate.getDate() && month <= currentDate.getMonth()) {
                                                document.getElementById("result3").innerHTML = "0";
                                            } else if (years >= 0) {
                                                document.getElementById("result3").innerHTML = years;
                                            } else {
                                                document.getElementById("result3").innerHTML = "--";
                                                document.getElementById("err3").innerHTML = "<span style='color: red;'>Must be a valid year</span> ";
                                            }
                                        } else {
                                            document.getElementById("result2").innerHTML = "--";
                                            document.getElementById("err2").innerHTML = "<span style='color: red;'>Must be a valid month</span>";
                                            if (year == "") {
                                                document.getElementById("result3").innerHTML = "--";
                                                document.getElementById("err3").innerHTML = "<span style='color: red;'>Must be a valid year</span> ";
                                            } else if (year == currentDate.getFullYear() && day <= currentDate.getDate() && month <= currentDate.getMonth()) {
                                                document.getElementById("result3").innerHTML = "0";
                                            } else if (years >= 0) {
                                                document.getElementById("result3").innerHTML = years;
                                            } else {
                                                document.getElementById("result3").innerHTML = "--";
                                                document.getElementById("err3").innerHTML = "<span style='color: red;'>Must be a valid year</span> ";
                                            }
                                        }
                                    }
                                } else if (year % 4 != 0) {
                                    if (day > 28) {
                                        document.getElementById("result1").innerHTML = "--";
                                        document.getElementById("err1").innerHTML = "<span style='color: red;'>Must be a valid day</span>";
                                        if (month >= 1 && month <= 12) {
                                            document.getElementById("result2").innerHTML = months + 1;
                                            if (year == "") {
                                                document.getElementById("result3").innerHTML = "--";
                                                document.getElementById("err3").innerHTML = "<span style='color: red;'>Must be a valid year</span> ";
                                            } else if (year == currentDate.getFullYear() && day <= currentDate.getDate() && month <= currentDate.getMonth()) {
                                                document.getElementById("result3").innerHTML = "0";
                                            } else if (years >= 0) {
                                                document.getElementById("result3").innerHTML = years;
                                            } else {
                                                document.getElementById("result3").innerHTML = "--";
                                                document.getElementById("err3").innerHTML = "<span style='color: red;'>Must be a valid year</span> ";
                                            }
                                        } else {
                                            document.getElementById("result2").innerHTML = "--";
                                            document.getElementById("err2").innerHTML = "<span style='color: red;'>Must be a valid month</span>";
                                            if (year == "") {
                                                document.getElementById("result3").innerHTML = "--";
                                                document.getElementById("err3").innerHTML = "<span style='color: red;'>Must be a valid year</span> ";
                                            } else if (year == currentDate.getFullYear() && day <= currentDate.getDate() && month <= currentDate.getMonth()) {
                                                document.getElementById("result3").innerHTML = "0";
                                            } else if (years >= 0) {
                                                document.getElementById("result3").innerHTML = years;
                                            } else {
                                                document.getElementById("result3").innerHTML = "--";
                                                document.getElementById("err3").innerHTML = "<span style='color: red;'>Must be a valid year</span> ";
                                            }
                                        }
                                    } else {
                                        document.getElementById("result1").innerHTML = days;
                                        if (month >= 1 && month <= 12) {
                                            document.getElementById("result2").innerHTML = months + 1;
                                            if (year == "") {
                                                document.getElementById("result3").innerHTML = "--";
                                                document.getElementById("err3").innerHTML = "<span style='color: red;'>Must be a valid year</span> ";
                                            } else if (year == currentDate.getFullYear() && day <= currentDate.getDate() && month <= currentDate.getMonth()) {
                                                document.getElementById("result3").innerHTML = "0";
                                            } else if (years >= 0) {
                                                document.getElementById("result3").innerHTML = years;
                                            } else {
                                                document.getElementById("result3").innerHTML = "--";
                                                document.getElementById("err3").innerHTML = "<span style='color: red;'>Must be a valid year</span> ";
                                            }
                                        } else {
                                            document.getElementById("result2").innerHTML = "--";
                                            document.getElementById("err2").innerHTML = "<span style='color: red;'>Must be a valid month</span>";
                                            if (year == "") {
                                                document.getElementById("result3").innerHTML = "--";
                                                document.getElementById("err3").innerHTML = "<span style='color: red;'>Must be a valid year</span> ";
                                            } else if (year == currentDate.getFullYear() && day <= currentDate.getDate() && month <= currentDate.getMonth()) {
                                                document.getElementById("result3").innerHTML = "0";
                                            } else if (years >= 0) {
                                                document.getElementById("result3").innerHTML = years;
                                            } else {
                                                document.getElementById("result3").innerHTML = "--";
                                                document.getElementById("err3").innerHTML = "<span style='color: red;'>Must be a valid year</span> ";
                                            }
                                        }
                                    }
                                }

                            } else {
                                document.getElementById("result1").innerHTML = days;
                                if (month >= 1 && month <= 12 && year == currentDate.getFullYear()) {
                                    document.getElementById("result2").innerHTML = currentDate.getMonth() - month + 1;
                                    if (year == "") {
                                        document.getElementById("result3").innerHTML = "--";
                                        document.getElementById("err3").innerHTML = "<span style='color: red;'>Must be a valid year</span> ";
                                    } else if (year == currentDate.getFullYear() && day <= currentDate.getDate() && month <= currentDate.getMonth()) {
                                        document.getElementById("result3").innerHTML = "0";
                                    } else if (year == currentDate.getFullYear() && day <= currentDate.getDate() && month == currentDate.getMonth()) {
                                        document.getElementById("result3").innerHTML = "0";
                                    } else if (years >= 0) {
                                        document.getElementById("result3").innerHTML = years;
                                    } else {
                                        document.getElementById("result3").innerHTML = "--";
                                        document.getElementById("err3").innerHTML = "<span style='color: red;'>Must be a valid year</span> ";
                                    }
                                } else if (month >= 1 && month <= 12) {
                                    document.getElementById("result2").innerHTML = months;
                                    if (year == "") {
                                        document.getElementById("result3").innerHTML = "--";
                                        document.getElementById("err3").innerHTML = "<span style='color: red;'>Must be a valid year</span> ";
                                    } else if (year == currentDate.getFullYear() && day <= currentDate.getDate() && month <= currentDate.getMonth()) {
                                        document.getElementById("result3").innerHTML = "0";
                                    } else if (year == currentDate.getFullYear() && day <= currentDate.getDate() && month == currentDate.getMonth()) {
                                        document.getElementById("result3").innerHTML = "0";
                                    } else if (years >= 0) {
                                        document.getElementById("result3").innerHTML = years;
                                    } else {
                                        document.getElementById("result3").innerHTML = "--";
                                        document.getElementById("err3").innerHTML = "<span style='color: red;'>Must be a valid year</span> ";
                                    }
                                } else {
                                    document.getElementById("result2").innerHTML = "--";
                                    document.getElementById("err2").innerHTML = "<span style='color: red;'>Must be a valid month</span>";
                                    if (year == "") {
                                        document.getElementById("result3").innerHTML = "--";
                                        document.getElementById("err3").innerHTML = "<span style='color: red;'>Must be a valid year</span> ";
                                    } else if (year == currentDate.getFullYear() && day <= currentDate.getDate() && month <= currentDate.getMonth()) {
                                        document.getElementById("result3").innerHTML = "0";
                                    } else if (year == currentDate.getFullYear() && day <= currentDate.getDate() && month == currentDate.getMonth()) {
                                        document.getElementById("result3").innerHTML = "0";
                                    } else if (years >= 0) {
                                        document.getElementById("result3").innerHTML = years;
                                    } else {
                                        document.getElementById("result3").innerHTML = "--";
                                        document.getElementById("err3").innerHTML = "<span style='color: red;'>Must be a valid year</span> ";
                                    }
                                }
                            }
                        }
                    } else {
                        document.getElementById("result1").innerHTML = "--";
                        document.getElementById("err1").innerHTML = "<span style='color: red;'>Must be a valid day</span>";
                        if (month >= 1 && month <= 12 && year == currentDate.getFullYear()) {
                            document.getElementById("result2").innerHTML = currentDate.getMonth() - month + 1;
                            if (year == "") {
                                document.getElementById("result3").innerHTML = "--";
                                document.getElementById("err3").innerHTML = "<span style='color: red;'>Must be a valid year</span> ";
                            } else if (year == currentDate.getFullYear() && day <= currentDate.getDate() && month <= currentDate.getMonth()) {
                                document.getElementById("result3").innerHTML = "0";
                            } else if (year == currentDate.getFullYear() && day <= currentDate.getDate() && month == currentDate.getMonth()) {
                                document.getElementById("result3").innerHTML = "0";
                            } else if (years >= 0) {
                                document.getElementById("result3").innerHTML = years;
                            } else {
                                document.getElementById("result3").innerHTML = "--";
                                document.getElementById("err3").innerHTML = "<span style='color: red;'>Must be a valid year</span> ";
                            }
                        } else if (month >= 1 && month <= 12) {
                            document.getElementById("result2").innerHTML = months;
                            if (year == "") {
                                document.getElementById("result3").innerHTML = "--";
                                document.getElementById("err3").innerHTML = "<span style='color: red;'>Must be a valid year</span> ";
                            } else if (year == currentDate.getFullYear() && day <= currentDate.getDate() && month <= currentDate.getMonth()) {
                                document.getElementById("result3").innerHTML = "0";
                            } else if (year == currentDate.getFullYear() && day <= currentDate.getDate() && month == currentDate.getMonth()) {
                                document.getElementById("result3").innerHTML = "0";
                            } else if (years >= 0) {
                                document.getElementById("result3").innerHTML = years;
                            } else {
                                document.getElementById("result3").innerHTML = "--";
                                document.getElementById("err3").innerHTML = "<span style='color: red;'>Must be a valid year</span> ";
                            }
                        } else {
                            document.getElementById("result2").innerHTML = "--";
                            document.getElementById("err2").innerHTML = "<span style='color: red;'>Must be a valid month</span>";
                            if (year == "") {
                                document.getElementById("result3").innerHTML = "--";
                                document.getElementById("err3").innerHTML = "<span style='color: red;'>Must be a valid year</span> ";
                            } else if (year == currentDate.getFullYear() && day <= currentDate.getDate() && month <= currentDate.getMonth()) {
                                document.getElementById("result3").innerHTML = "0";
                            } else if (year == currentDate.getFullYear() && day <= currentDate.getDate() && month == currentDate.getMonth()) {
                                document.getElementById("result3").innerHTML = "0";
                            } else if (years >= 0) {
                                document.getElementById("result3").innerHTML = years;
                            } else {
                                document.getElementById("result3").innerHTML = "--";
                                document.getElementById("err3").innerHTML = "<span style='color: red;'>Must be a valid year</span> ";
                            }
                        }
                    }
                }
            </script>

</body>

</html>